{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "http://ivaservizi.agenziaentrate.gov.it/docs/xsd/fatture/v1.2",
  "title": "Fattura Elettronica v 1.2",
  "description": "Schema JSON per la Fattura Elettronica Italiana",
  "type": "object",
  "definitions": {},
  "properties": {
    "FatturaElettronica": {
      "title": "Fattura Elettronica Italiana",
      "type": "object",
      "properties": {
        "FatturaElettronicaHeader": {
          "title": "Intestazione della Fattura Elettronica",
          "type": "object",
          "properties": {
            "DatiTrasmissione": {
              "title": "Dati per il recapito del documento elettronico",
              "type": "object",
              "properties": {
                "IdTrasmittente": {
                  "title": "Identificativo fiscale del soggetto trasmittente",
                  "type": "object",
                  "properties": {
                    "IdPaese": {
                      "type": "string",
                      "title": "Codice della nazione assegnante l’identificativo fiscale al soggetto trasmittente",
                      "description": "Espressa secondo lo standard ISO 3166-1 alpha-2 code (https://it.wikipedia.org/wiki/ISO_3166-1_alpha-2), es: Italia: IT, Francia: FR, Svizzera: CH, San Marino: SM, Città del Vaticano: VA, Austria: AT, Slovenia: SI",
                      "pattern": "^[A-Z]{2}$",
                      "default": "",
                      "examples": [
                        "IT"
                      ]
                    },
                    "IdCodice": {
                      "title": "Numero di identificazione fiscale del soggetto trasmittente (per i soggetti stabiliti nel territorio dello Stato Italiano corrisponde al Codice Fiscale; per i non residenti si fa riferimento all’identificativo fiscale assegnato dall’autorità del paese di residenza)",
                      "type": "string",
                      "minLength": 1,
                      "maxLength": 28,
                      "default": "",
                      "examples": [
                        "01234567890"
                      ]
                    }
                  }
                },
                "ProgressivoInvio": {
                  "title": "Progressivo che il soggetto trasmittente attribuisce al file che inoltra al Sistema di Interscambio per una propria finalità di identificazione univoca",
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 10,
                  "default": "",
                  "examples": [
                    "00001"
                  ]
                },
                "FormatoTrasmissione": {
                  "type": "string",
                  "title": "Codice identificativo del tipo di trasmissione che si sta effettuando e del relativo formato.",
                  "minLength": 5,
                  "maxLength": 5,
                  "default": "",
                  "examples": [
                    "FPA12"
                  ]
                },
                "CodiceDestinatario": {
                  "type": "string",
                  "title": "Identifica il soggetto al quale è destinata la fattura.",
                  "description": "Per PA: Codice Ufficio (6 caratteri, vedi https://www.indicepa.gov.it/). Per fatturazione verso privati, codice del canale di ricezione accreditato nel  Sistema di Interscambio (7 caratteri) oppure ‘0000000’ se riceve tramite PEC.",
                  "minLength": 6,
                  "maxLength": 7,
                  "default": "",
                  "examples": [
                    "AAAAAA"
                  ]
                }
              }
            },
            "CedentePrestatore": {
              "type": "object",
              "title": "Dati del Cedente / Prestatore del bene / servizio",
              "properties": {
                "DatiAnagrafici": {
                  "type": "object",
                  "properties": {
                    "IdFiscaleIVA": {
                      "title": "Dati identificativi ai fini IVA del soggetto cedente/prestatore",
                      "description": "Partita IVA italiana per i soggetti residenti in Italia e per quelli esteri operanti in Italia (identificati attraverso una Stabile Organizzazione oppure mediante un rappresentante fiscale o ancora direttamente), oppure identificativo fiscale assegnato dall’autorità del proprio paese per i soggetti non residenti)",
                      "type": "object",
                      "properties": {
                        "IdPaese": {
                          "type": "string",
                          "title": "Codice del paese assegnante l’identificativo fiscale al soggetto cedente/prestatore",
                          "description": "Sigla della nazione espressa secondo lo standard ISO 3166-1 alpha-2 code (https://it.wikipedia.org/wiki/ISO_3166-1_alpha-2), es: Italia: IT, Francia: FR, Svizzera: CH, San Marino: SM, Città del Vaticano: VA, Austria: AT, Slovenia: SI",
                          "pattern": "^[A-Z]{2}$",
                          "default": "",
                          "examples": [
                            "IT"
                          ]
                        },
                        "IdCodice": {
                          "title": "Numero di identificazione fiscale del soggetto cedente/prestatore (per i soggetti stabiliti nel territorio dello Stato Italiano corrisponde al Codice Fiscale; per i non residenti si fa riferimento all’identificativo fiscale assegnato dall’autorità del paese di residenza)",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 28,
                          "default": "",
                          "examples": [
                            "01234567890"
                          ]
                        }
                      }
                    },
                    "Anagrafica": {
                      "type": "object",
                      "properties": {
                        "Denominazione": {
                          "type": "string",
                          "title": "Ditta, denominazione o ragione sociale del cedente/prestatore (compilare nei casi di persona non fisica)",
                          "description": "Questo campo è in alternativa ai campi Nome e Cognome",
                          "default": "",
                          "minLength": 1,
                          "maxLength": 80,
                          "examples": [
                            "ALPHA SRL"
                          ]
                        }
                      }
                    },
                    "RegimeFiscale": {
                      "type": "string",
                      "title": "Regime fiscale del cedente/prestatore",
                      "description": "RF01: Regime ordinario; RF02: Regime dei contribuenti minimi; RF03: Regime delle nuove iniziative produttive; RF04: Agricoltura e attività connesse e pesca; RF05: Vendita sali e tabacchi; RF06: Commercio dei fiammiferi; RF07: Editoria; RF08: Gestione di servizi di telefonia pubblica; RF09: Rivendita di documenti di trasporto pubblico e di sosta; RF10: Intrattenimenti, giochi e altre attività; RF11: Agenzie di viaggi e turismo; RF12: Agriturismo; RF13: Vendite a domicilio; RF14: Rivendita di beni usati, di oggetti d'arte, d'antiquariato o da collezione; RF15: Agenzie di vendite all'asta di oggetti d'arte, antiquariato o da collezione; RF16: IVA per cassa P.A.; RF17: IVA per cassa; RF19: Regime forfettario; RF18: Altro",
                      "pattern": "^RF[0-9]{2}$",
                      "default": "",
                      "examples": [
                        "RF19"
                      ]
                    }
                  }
                },
                "Sede": {
                  "type": "object",
                  "title": "Sede legale per le società e del domicilio fiscale per le ditte individuali e i lavoratori autonomi",
                  "properties": {
                    "Indirizzo": {
                      "type": "string",
                      "title": "Indirizzo del cedente/prestatore: via / piazza / ... nome e numero civico",
                      "default": "",
                      "minLength": 1,
                      "maxLength": 60,
                      "examples": [
                        "VIALE ROMA 543"
                      ]
                    },
                    "CAP": {
                      "type": "string",
                      "title": "Codice di Avviamento Postale",
                      "default": "",
                      "pattern": "^[0-9]{5}$",
                      "examples": [
                        "07100"
                      ]
                    },
                    "Comune": {
                      "type": "string",
                      "title": "Comune",
                      "default": "",
                      "minLength": 1,
                      "maxLength": 60,
                      "examples": [
                        "SASSARI"
                      ]
                    },
                    "Provincia": {
                      "type": "string",
                      "title": "Sigla della provincia di appartenenza del comune (da compilare nei soli casi di sede in Italia).",
                      "default": "",
                      "pattern": "^[A-Z]{2}$",
                      "examples": [
                        "SS"
                      ]
                    },
                    "Nazione": {
                      "type": "string",
                      "title": "Codice della nazione",
                      "description": "Espressa secondo lo standard ISO 3166-1 alpha-2 code (https://it.wikipedia.org/wiki/ISO_3166-1_alpha-2), es: Italia: IT, Francia: FR, Svizzera: CH, San Marino: SM, Città del Vaticano: VA, Austria: AT, Slovenia: SI",
                      "pattern": "^[A-Z]{2}$",
                      "default": "",
                      "examples": [
                        "IT"
                      ]
                    }
                  }
                }
              }
            },
            "CessionarioCommittente": {
              "type": "object",
              "title": "Dati del Cessionario / Committente",
              "properties": {
                "DatiAnagrafici": {
                  "type": "object",
                  "properties": {
                    "IdFiscaleIVA": {
                      "title": "Dati identificativi ai fini IVA del cessionario/committente; compilare in alternativa non esclusiva a quella del Codice Fiscale (cioè può non essere compilato se è compilato il Codice Fiscale)",
                      "description": "Partita IVA italiana per i soggetti residenti in Italia e per quelli esteri operanti in Italia (identificati attraverso una Stabile Organizzazione oppure mediante un rappresentante fiscale o ancora direttamente), oppure identificativo fiscale assegnato dall’autorità del proprio paese per i soggetti non residenti)",
                      "type": "object",
                      "properties": {
                        "IdPaese": {
                          "type": "string",
                          "title": "Codice del paese assegnante l’identificativo fiscale al soggetto cessionario/committente",
                          "description": "Sigla della nazione espressa secondo lo standard ISO 3166-1 alpha-2 code (https://it.wikipedia.org/wiki/ISO_3166-1_alpha-2), es: Italia: IT, Francia: FR, Svizzera: CH, San Marino: SM, Città del Vaticano: VA, Austria: AT, Slovenia: SI",
                          "pattern": "^[A-Z]{2}$",
                          "default": "",
                          "examples": [
                            "IT"
                          ]
                        },
                        "IdCodice": {
                          "title": "Numero di identificazione fiscale del soggetto cessionario/committente (per i soggetti stabiliti nel territorio dello Stato Italiano corrisponde al Codice Fiscale; per i non residenti si fa riferimento all’identificativo fiscale assegnato dall’autorità del paese di residenza)",
                          "type": "string",
                          "minLength": 1,
                          "maxLength": 28,
                          "default": "",
                          "examples": [
                            "01234567890"
                          ]
                        }
                      }
                    },
                    "CodiceFiscale": {
                      "type": "string",
                      "title": "Codice Fiscale del cessionario/committente; compilare in alternativa non esclusiva ai Dati identificativi ai fini IVA (può non essere compilato se sono presenti i Dati identificativi)",
                      "default": "",
                      "pattern": "^[A-Z0-9]{11,16}$",
                      "examples": [
                        "09876543210"
                      ]
                    },
                    "Anagrafica": {
                      "type": "object",
                      "properties": {
                        "Denominazione": {
                          "type": "string",
                          "title": "Ditta, denominazione o ragione sociale del cessionario/committente (compilare nei casi di persona non fisica)",
                          "description": "Questo campo è in alternativa ai campi Nome e Cognome",
                          "default": "",
                          "minLength": 1,
                          "maxLength": 80,
                          "examples": [
                            "AMMINISTRAZIONE BETA"
                          ]
                        }
                      }
                    }
                  }
                },
                "Sede": {
                  "type": "object",
                  "properties": {
                    "Indirizzo": {
                      "type": "string",
                      "title": "Indirizzo del cessionario/committente: via / piazza / ... nome e numero civico",
                      "default": "",
                      "minLength": 1,
                      "maxLength": 60,
                      "examples": [
                        "VIA TORINO 38-B"
                      ]
                    },
                    "CAP": {
                      "type": "string",
                      "title": "Codice di Avviamento Postale",
                      "default": "",
                      "pattern": "^[0-9]{5}$",
                      "examples": [
                        "00145"
                      ]
                    },
                    "Comune": {
                      "type": "string",
                      "title": "Comune",
                      "default": "",
                      "minLength": 1,
                      "maxLength": 60,
                      "examples": [
                        "ROMA"
                      ]
                    },
                    "Provincia": {
                      "type": "string",
                      "title": "Sigla della provincia di appartenenza del comune (da compilare nei soli casi di sede in Italia).",
                      "default": "",
                      "pattern": "^[A-Z]{2}$",
                      "examples": [
                        "RM"
                      ]
                    },
                    "Nazione": {
                      "type": "string",
                      "title": "Codice della nazione",
                      "description": "Espresso secondo lo standard ISO 3166-1 alpha-2 code (https://it.wikipedia.org/wiki/ISO_3166-1_alpha-2), es: Italia: IT, Francia: FR, Svizzera: CH, ",
                      "pattern": "^[A-Z]{2}$",
                      "default": "",
                      "examples": [
                        "IT"
                      ]
                    }
                  }
                }
              }
            }
          }
        },
        "FatturaElettronicaBody": {
          "type": "array",
          "title": "Dati Generali e Contabili",
          "minItems": 1,
          "items": {
            "title": "Corpo della Fattura Elettronica",
            "type": "object",
            "properties": {
              "DatiGenerali": {
                "type": "object",
                "title": "Dati Generali",
                "properties": {
                  "DatiGeneraliDocumento": {
                    "title": "Dati Generali del documento",
                    "type": "object",
                    "properties": {
                      "TipoDocumento": {
                        "type": "string",
                        "title": "Tipologia del documento oggetto della trasmissione",
                        "description": "TD01: Fattura, TD02: Acconto / anticipo su fattura, TD03: Acconto / anticipo su parcella, TD04: Nota di credito, TD05: Nota di debito, TD06: Parcella",
                        "default": "",
                        "pattern": "^TD[0-9]{2}$",
                        "examples": [
                          "TD01"
                        ]
                      },
                      "Divisa": {
                        "type": "string",
                        "title": "Valuta utilizzata per l'indicazione degli importi",
                        "description": "Espresso secondo lo standard ISO 4217 alpha-3:2001 (https://it.wikipedia.org/wiki/ISO_4217#Codici_attivi), es.: EUR, USD, CHF, GBP, CZK ...",
                        "default": "",
                        "pattern": "^[A-Z]{3}$",
                        "examples": [
                          "EUR"
                        ]
                      },
                      "Data": {
                        "type": "string",
                        "title": "Data del documento",
                        "description": "Rappresentata secondo il formato ISO 8601:2004 (https://it.wikipedia.org/wiki/ISO_8601), con la seguente precisione: YYYY-MM-DD",
                        "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
                        "default": "",
                        "examples": [
                          "2017-01-18"
                        ]
                      },
                      "Numero": {
                        "type": "string",
                        "title": "Numero progressivo attribuito dal cedente/prestatore al documento",
                        "minLength": 1,
                        "maxLength": 20,
                        "default": "",
                        "examples": [
                          "123"
                        ]
                      },
                      "Causale": {
                        "type": "array",
                        "title": "Descrizione della causale del documento",
                        "items": {
                          "type": "string",
                          "default": "",
                          "minLength": 1,
                          "maxLength": 200,
                          "examples": [
                            "LA FATTURA FA RIFERIMENTO AD UNA OPERAZIONE AAAA BBBBBBBBBBBBBBBBBB CCC DDDDDDDDDDDDDDD E FFFFFFFFFFFFFFFFFFFF GGGGGGGGGG HHHHHHH II LLLLLLLLLLLLLLLLL MMM NNNNN OO PPPPPPPPPPP QQQQ RRRR SSSSSSSSSSSSSS",
                            "SEGUE DESCRIZIONE CAUSALE NEL CASO IN CUI NON SIANO STATI SUFFICIENTI 200 CARATTERI AAAAAAAAAAA BBBBBBBBBBBBBBBBB"
                          ]
                        }
                      }
                    }
                  }
                }
              },
              "DatiBeniServizi": {
                "type": "object",
                "title": "Dati dei Beni / Servizi",
                "properties": {
                  "DettaglioLinee": {
                    "type": "array",
                    "title": "Linea di dettaglio del bene/servizio",
                    "items": {
                      "type": "object",
                      "properties": {
                        "NumeroLinea": {
                          "type": "string",
                          "title": "Nmero identificativo della linea di dettaglio ",
                          "default": "",
                          "examples": [
                            "1"
                          ]
                        },
                        "Descrizione": {
                          "type": "string",
                          "title": "Natura e qualità del bene/servizio oggetto della cessione/prestazione; può fare anche riferimento ad un precedente documento emesso a titolo di anticipo/acconto",
                          "default": "",
                          "minLength": 1,
                          "maxLength": 1000,
                          "examples": [
                            "DESCRIZIONE DELLA FORNITURA"
                          ]
                        },
                        "Quantita": {
                          "type": "string",
                          "title": "Numero di unità cedute/prestate; può non essere valorizzato nei casi in cui la prestazione non sia quantificabile",
                          "default": "",
                          "pattern": "^[0-9]{1,12}.[0-9]{2,8}$",
                          "examples": [
                            "5.00"
                          ]
                        },
                        "PrezzoUnitario": {
                          "type": "string",
                          "title": "Prezzo unitario del bene/servizio; nel caso di beni ceduti a titolo di sconto, premio o abbuono, l'importo indicato rappresenta il \"valore normale\"",
                          "pattern": "^[-]?[0-9]{1,11}.[0-9]{2,8}$",
                          "default": "",
                          "examples": [
                            "1.00"
                          ]
                        },
                        "PrezzoTotale": {
                          "type": "string",
                          "title": "Importo totale del bene/servizio al netto dell'eventuale sconto",
                          "pattern": "^[-]?[0-9]{1,11}.[0-9]{2,8}$",
                          "default": "",
                          "examples": [
                            "5.00"
                          ]
                        },
                        "AliquotaIVA": {
                          "type": "string",
                          "title": "Aliquota IVA applicata alla cessione/prestazione; nel caso di non applicabilità, il campo deve essere impostato a 0.00",
                          "description": "Espressa in percentuale con due decimali separati dall'intero con il carattere '.' (punto)",
                          "pattern": "^[0-9]{1-3}.[0-9]{2}$",
                          "default": "",
                          "examples": [
                            "22.00"
                          ]
                        }
                      }
                    }
                  },
                  "DatiRiepilogo": {
                    "type": "object",
                    "title": "Datidi riepilogo",
                    "description": "Da valorizzare per ogni aliquota IVA e modalità di versamento dell’imposta (scissione dei pagamenti od ordinaria), e/o per ogni natura)",
                    "properties": {
                      "AliquotaIVA": {
                        "type": "string",
                        "title": "Aliquota IVA applicata alla cessione/prestazione; nel caso di non applicabilità, il campo deve essere impostato a 0.00",
                        "description": "Espressa in percentuale con due decimali separati dall'intero con il carattere '.' (punto)",
                        "pattern": "^[0-9]{1-3}.[0-9]{2}$",
                        "default": "",
                        "examples": [
                          "22.00"
                        ]
                      },
                      "Natura": {
                        "type": "string",
                        "title": "Codice che esprime la natura delle operazioni che non rientrano tra quelle imponibili",
                        "description": "N1: Escluse ex. art. 15, N2: Non soggette, N3: Non Imponibili, N4: Esenti, N5: Regime del margine, N6: Inversione contabile (reverse charge), N7: IVA assolta in altro stato UE",
                        "pattern": "^N[0-9]{1}$",
                        "default": "",
                        "examples": [
                          "N1"
                        ]
                      },
                      "ImponibileImporto": {
                        "type": "string",
                        "title": "Valore che rappresenta la base imponibile per le operazioni soggette ad IVA, oppure l’importo per le operazioni che non rientrano tra quelle 'imponibili'",
                        "pattern": "^[-]?[0-9]{1,11}.[0-9]{2}$",
                        "default": "",
                        "examples": [
                          "5.00"
                        ]
                      },
                      "Imposta": {
                        "type": "string",
                        "title": "Imposta corrispondente all’applicazione dell’aliquota IVA sulla base imponibile",
                        "pattern": "^[-]?[0-9]{1,11}.[0-9]{2}$",
                        "default": "",
                        "examples": [
                          "1.10"
                        ]
                      },
                      "EsigibilitaIVA": {
                        "type": "string",
                        "title": "Codice che esprime il regime di esigibilità dell’IVA (differita o immediata) o la modalità di versamento dell’imposta (scissione dei pagamenti)",
                        "description": "D: esigibilità differita, I: esigibilità immediata, S: scissione dei pagamenti",
                        "pattern": "^D|I|S$",
                        "default": "",
                        "examples": [
                          "I"
                        ]
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
